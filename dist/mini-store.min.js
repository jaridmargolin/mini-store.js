!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.MiniStore=b()}(this,function(){var a,b,c,d,e,f,g,h;return a=function(a){return a===Object(a)},b=function(a){return JSON.parse(JSON.stringify(a))},c=function(a,b){return{isObject:a,jsonClone:b}}(a,b),d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(a,b){var c=function(d,e){for(var f in e){var g=d[f]||{},h=e[f],i=b(h),j=a(h);i||j?(i&&!b(g)&&(d[f]={}),j&&!a(g)&&(d[f]=[]),d[f]=c(g,h)):d[f]=h}return d};return c}(d,a),f=function(a,b){return{isObject:a,deepMerge:b}}(a,e),g=function(a){var b=function(a){this.seperator=a||"."};return b.prototype.get=function(a,b){return this._get(a,b).val},b.prototype.set=function(b,c,d,e){var f=this._get(b,c,!0),g=f.val,h=f.parent,i=f.key,j=a.isObject(g)&&e;return h[i]=j?a.deepMerge(g,d):d,h[i]},b.prototype.remove=function(a,b){var c=this._get(a,b),d=c.parent,e=c.key;delete d[e]},b.prototype._get=function(a,b,c){for(var d=b.split(this.seperator),e=0,f=d.length;f>e;e++){var g=d[e],h=a[g],i=f===e+1,j=!h&&!c;if(i||j)return{key:g,val:h,parent:a};a=a[g]=h||{}}},b}(f),h=function(a,b){var c=new b(":"),d=function(b){this.data={},this.addProperties(b),this.original=a.jsonClone(this.data)};return d.prototype.add=function(b,c,d){return a.isObject(b)?this.addProperties(b,c):this.addProperty(b,c,d),this},d.prototype.addProperties=function(a,b){for(var c in a)this.addProperty(c,a[c],b);return this},d.prototype.addProperty=function(a,b,d){return c.set(this.data,a,b,!d),this},d.prototype.remove=function(a){return this.removeProperty(a),this},d.prototype.removeProperty=function(a){return c.remove(this.data,a),this},d.prototype.get=function(a){return a?this.getProperty(a):this.data},d.prototype.getProperty=function(a){return c.get(this.data,a)},d.prototype.reset=function(){return this.data=a.jsonClone(this.original),this},d}(c,g)});